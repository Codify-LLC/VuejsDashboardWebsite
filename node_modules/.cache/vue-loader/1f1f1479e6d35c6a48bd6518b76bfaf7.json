{"remainingRequest":"C:\\Users\\prati\\AppData\\Roaming\\npm\\node_modules\\@vue\\cli-service-global\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\prati\\Downloads\\Flyer\\src\\components\\UploadSection.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\prati\\Downloads\\Flyer\\src\\components\\UploadSection.vue","mtime":1624204021895},{"path":"C:\\Users\\prati\\AppData\\Roaming\\npm\\node_modules\\@vue\\cli-service-global\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\prati\\AppData\\Roaming\\npm\\node_modules\\@vue\\cli-service-global\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\prati\\AppData\\Roaming\\npm\\node_modules\\@vue\\cli-service-global\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCglpbXBvcnQgVnVlIGZyb20gJ3Z1ZScKCWltcG9ydCBheGlvcyBmcm9tICdheGlvcycKCglWdWUudXNlKHsKCQlpbnN0YWxsIChWdWUpIHsKCQkJVnVlLnByb3RvdHlwZS4kYXBpID0gYXhpb3MuY3JlYXRlKHsKCQkJCWJhc2VVUkw6ICdodHRwOi8vbG9jYWxob3N0OjgwODAvYXBpLycKCQkJfSkKCQl9Cgl9KQogIGV4cG9ydCBkZWZhdWx0IHsKICAgIGRhdGEoKXsKICAgICAgcmV0dXJuIHsKICAgICAgICBkcmFnQW5kRHJvcENhcGFibGU6IGZhbHNlLAogICAgICAgIGZpbGVzOiBbXSwKICAgICAgICB1cGxvYWRQZXJjZW50YWdlOiAwCiAgICAgIH0KICAgIH0sCgogICAgbW91bnRlZCgpewoKICAgICAgdGhpcy5kcmFnQW5kRHJvcENhcGFibGUgPSB0aGlzLmRldGVybWluZURyYWdBbmREcm9wQ2FwYWJsZSgpOwoKICAgICAgaWYoIHRoaXMuZHJhZ0FuZERyb3BDYXBhYmxlICl7CgogICAgICAgIFsnZHJhZycsICdkcmFnc3RhcnQnLCAnZHJhZ2VuZCcsICdkcmFnb3ZlcicsICdkcmFnZW50ZXInLCAnZHJhZ2xlYXZlJywgJ2Ryb3AnXS5mb3JFYWNoKCBmdW5jdGlvbiggZXZ0ICkgewoKICAgICAgICAgIHRoaXMuJHJlZnMuZmlsZWZvcm0uYWRkRXZlbnRMaXN0ZW5lcihldnQsIGZ1bmN0aW9uKGUpewogICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7CiAgICAgICAgICB9LmJpbmQodGhpcyksIGZhbHNlKTsKICAgICAgICB9LmJpbmQodGhpcykpOwoKICAgICAgICB0aGlzLiRyZWZzLmZpbGVmb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ2Ryb3AnLCBmdW5jdGlvbihlKXsKICAgICAgICAgIGZvciggbGV0IGkgPSAwOyBpIDwgZS5kYXRhVHJhbnNmZXIuZmlsZXMubGVuZ3RoOyBpKysgKXsKICAgICAgICAgICAgdGhpcy5maWxlcy5wdXNoKCBlLmRhdGFUcmFuc2Zlci5maWxlc1tpXSApOwogICAgICAgICAgfQoKICAgICAgICAgIHRoaXMub25DbGlja0J1dHRvbigpOwogICAgICAgIH0uYmluZCh0aGlzKSk7CiAgICAgIH0KICAgIH0sCgogICAgbWV0aG9kczogewoKICAgICAgcHJldmlld0ZpbGVzKGV2ZW50KSB7CiAgICAgICAgZm9yKCBsZXQgaSA9IDA7IGkgPCBldmVudC50YXJnZXQuZmlsZXMubGVuZ3RoOyBpKysgKXsKICAgICAgICAgIHRoaXMuZmlsZXMucHVzaCggZXZlbnQudGFyZ2V0LmZpbGVzW2ldICk7CiAgICAgICAgfQoKICAgICAgICB0aGlzLm9uQ2xpY2tCdXR0b24oKTsKICAgICAgfSwKCiAgICAgIG9uQ2xpY2tCdXR0b24gKCkgewogICAgICAgIHRoaXMuJGVtaXQoJ3ByZXZpZXdUcmlnZ2VyJywgdGhpcy5maWxlcykKICAgICAgfSwKCiAgICAgIGRldGVybWluZURyYWdBbmREcm9wQ2FwYWJsZSgpewoKICAgICAgICB2YXIgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CgogICAgICAgIHJldHVybiAoICggJ2RyYWdnYWJsZScgaW4gZGl2ICkKICAgICAgICAgICAgICAgIHx8ICggJ29uZHJhZ3N0YXJ0JyBpbiBkaXYgJiYgJ29uZHJvcCcgaW4gZGl2ICkgKQogICAgICAgICAgICAgICAgJiYgJ0Zvcm1EYXRhJyBpbiB3aW5kb3cKICAgICAgICAgICAgICAgICYmICdGaWxlUmVhZGVyJyBpbiB3aW5kb3c7CiAgICAgIH0sCgogICAgICBzdWJtaXRGaWxlcygpewoKICAgICAgICBsZXQgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoKTsKCiAgICAgICAgZm9yKCB2YXIgaSA9IDA7IGkgPCB0aGlzLmZpbGVzLmxlbmd0aDsgaSsrICl7CiAgICAgICAgICBsZXQgZmlsZSA9IHRoaXMuZmlsZXNbaV07CgogICAgICAgICAgZm9ybURhdGEuYXBwZW5kKCdmaWxlc1snICsgaSArICddJywgZmlsZSk7CiAgICAgICAgfQoKICAgICAgICBheGlvcy5wb3N0KCAnL2ZpbGUtZHJhZy1kcm9wLWluc3RhbnQnLAogICAgICAgICAgZm9ybURhdGEsCiAgICAgICAgICB7CiAgICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnbXVsdGlwYXJ0L2Zvcm0tZGF0YScKICAgICAgICAgICAgfSwKICAgICAgICAgICAgb25VcGxvYWRQcm9ncmVzczogZnVuY3Rpb24oIHByb2dyZXNzRXZlbnQgKSB7CiAgICAgICAgICAgICAgdGhpcy51cGxvYWRQZXJjZW50YWdlID0gcGFyc2VJbnQoIE1hdGgucm91bmQoICggcHJvZ3Jlc3NFdmVudC5sb2FkZWQgKiAxMDAgKSAvIHByb2dyZXNzRXZlbnQudG90YWwgKSApOwogICAgICAgICAgICB9LmJpbmQodGhpcykKICAgICAgICAgIH0KICAgICAgICApLnRoZW4oZnVuY3Rpb24oKXsKICAgICAgICAgIGNvbnNvbGUubG9nKCdTVUNDRVNTISEnKTsKICAgICAgICB9KQogICAgICAgIC5jYXRjaChmdW5jdGlvbigpewogICAgICAgICAgY29uc29sZS5sb2coJ0ZBSUxVUkUhIScpOwogICAgICAgIH0pOwogICAgICB9LAoKICAgICAgZ2V0SW1hZ2VQcmV2aWV3cygpewoKICAgICAgICBmb3IoIGxldCBpID0gMDsgaSA8IHRoaXMuZmlsZXMubGVuZ3RoOyBpKysgKXsKCiAgICAgICAgICBpZiAoIC9cLihqcGU/Z3xwbmd8Z2lmKSQvaS50ZXN0KCB0aGlzLmZpbGVzW2ldLm5hbWUgKSApIHsKCiAgICAgICAgICAgIGxldCByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpOwoKICAgICAgICAgICAgcmVhZGVyLmFkZEV2ZW50TGlzdGVuZXIoImxvYWQiLCBmdW5jdGlvbigpewogICAgICAgICAgICAgIHRoaXMuJHJlZnNbJ3ByZXZpZXcnK3BhcnNlSW50KCBpICldWzBdLnNyYyA9IHJlYWRlci5yZXN1bHQ7CiAgICAgICAgICAgIH0uYmluZCh0aGlzKSwgZmFsc2UpOwoKICAgICAgICAgICAgcmVhZGVyLnJlYWRBc0RhdGFVUkwoIHRoaXMuZmlsZXNbaV0gKTsKICAgICAgICAgIH1lbHNlewoKICAgICAgICAgICAgdGhpcy4kbmV4dFRpY2soZnVuY3Rpb24oKXsKICAgICAgICAgICAgICB0aGlzLiRyZWZzWydwcmV2aWV3JytwYXJzZUludCggaSApXVswXS5zcmMgPSAnL2ltYWdlcy9maWxlLnBuZyc7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwKICAgIH0KICB9Cg=="},{"version":3,"sources":["UploadSection.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6GA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"UploadSection.vue","sourceRoot":"src/components","sourcesContent":["<style>\r\n.inp_label{\r\n  width: 300px;\r\n  margin: auto;\r\n  margin-top: 100px;\r\n}\r\n.inp_holder{\r\n  width: 200px;\r\n  margin: auto;\r\n}\r\n.dropzone {\r\n    padding: 0.5rem;\r\n}\r\n.btn_upload{\r\n  background-color: #3865B0;\r\n  width: 100px;\r\n  height: 35px;\r\n  display: inline-grid;\r\n}\r\n.dropzone-wrapper {\r\n    position: absolute;\r\n    width: 837px;\r\n    height: 393px;\r\n    left: 277px;\r\n    top: 147px;\r\n    background: #FFFFFF;\r\n}\r\n.btn_upload::-webkit-file-upload-button {\r\n  background-color: #3865B0;\r\n  visibility: hidden;\r\n}\r\n.btn_upload::before {\r\n  border-color: transparent;\r\n  background-color: transparent;\r\n  content: 'Select file';  padding: 0;\r\n  outline: none;\r\n  white-space: nowrap;\r\n  cursor: pointer;\r\n  text-shadow: 0.5px 0.5px #000;\r\n  font-weight: 700;\r\n  font-size: 10pt;\r\n  text-align: center;\r\n  color: white;\r\n}\r\n.btn_upload:hover::before {\r\n  background-color: #3865B0;\r\n  border: none;\r\n  border-color: transparent;\r\n}\r\n.btn_upload:active::before {\r\n  background-color: #3865B0;\r\n}\r\n\r\n.fileForm{\r\n  position: absolute;\r\n  width: 837px;\r\n  height: 393px;\r\n  left: 277px;\r\n  top: 147px;\r\n  background: #FFFFFF;\r\n}\r\n\r\ndiv.file-listing{\r\n  width: 400px;\r\n  margin: auto;\r\n  padding: 10px;\r\n  border-bottom: 1px solid #ddd;\r\n}\r\n\r\ndiv.file-listing img{\r\n  height: 100px;\r\n}\r\n\r\na.submit-button{\r\n  display: block;\r\n  margin: auto;\r\n  text-align: center;\r\n  width: 200px;\r\n  padding: 10px;\r\n  text-transform: uppercase;\r\n  background-color: #CCC;\r\n  color: white;\r\n  font-weight: bold;\r\n  margin-top: 20px;\r\n}\r\n</style>\r\n\r\n<template>\r\n  <div id=\"file-drag-drop\">\r\n    <form ref=\"fileform\" class=\"fileForm\">\r\n      <div class=\"inp_label\">\r\n            <label class=\"dropzone-label grid place-items-center w-full h-full pt-10 pb-12 cursor-pointer\" for=\"dropzone-file\">\r\n              <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"40\" height=\"40\" fill=\"currentColor\" class=\"pointer-events-none text-current dropzone-label-icon bi bi-upload\" viewBox=\"0 0 16 16\">\r\n                <path d=\"M.5 9.9a.5.5 0 0 1 .5.5v2.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 1 0v2.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2.5a.5.5 0 0 1 .5-.5z\" />\r\n                <path d=\"M7.646 1.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1-.708.708L8.5 2.707V11.5a.5.5 0 0 1-1 0V2.707L5.354 4.854a.5.5 0 1 1-.708-.708l3-3z\" />\r\n              </svg>\r\n              <div class=\"dropzone-label-text\">\r\n                <p class=\"m-3 text-center\">\r\n                    Drag and drop files to upload\r\n                </p>\r\n              </div>\r\n              <input type=\"file\" class=\"btn btn_upload\" @change=\"previewFiles\"/>\r\n            </label>\r\n          </div>\r\n    </form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n\timport Vue from 'vue'\r\n\timport axios from 'axios'\r\n\r\n\tVue.use({\r\n\t\tinstall (Vue) {\r\n\t\t\tVue.prototype.$api = axios.create({\r\n\t\t\t\tbaseURL: 'http://localhost:8080/api/'\r\n\t\t\t})\r\n\t\t}\r\n\t})\r\n  export default {\r\n    data(){\r\n      return {\r\n        dragAndDropCapable: false,\r\n        files: [],\r\n        uploadPercentage: 0\r\n      }\r\n    },\r\n\r\n    mounted(){\r\n\r\n      this.dragAndDropCapable = this.determineDragAndDropCapable();\r\n\r\n      if( this.dragAndDropCapable ){\r\n\r\n        ['drag', 'dragstart', 'dragend', 'dragover', 'dragenter', 'dragleave', 'drop'].forEach( function( evt ) {\r\n\r\n          this.$refs.fileform.addEventListener(evt, function(e){\r\n            e.preventDefault();\r\n            e.stopPropagation();\r\n          }.bind(this), false);\r\n        }.bind(this));\r\n\r\n        this.$refs.fileform.addEventListener('drop', function(e){\r\n          for( let i = 0; i < e.dataTransfer.files.length; i++ ){\r\n            this.files.push( e.dataTransfer.files[i] );\r\n          }\r\n\r\n          this.onClickButton();\r\n        }.bind(this));\r\n      }\r\n    },\r\n\r\n    methods: {\r\n\r\n      previewFiles(event) {\r\n        for( let i = 0; i < event.target.files.length; i++ ){\r\n          this.files.push( event.target.files[i] );\r\n        }\r\n\r\n        this.onClickButton();\r\n      },\r\n\r\n      onClickButton () {\r\n        this.$emit('previewTrigger', this.files)\r\n      },\r\n\r\n      determineDragAndDropCapable(){\r\n\r\n        var div = document.createElement('div');\r\n\r\n        return ( ( 'draggable' in div )\r\n                || ( 'ondragstart' in div && 'ondrop' in div ) )\r\n                && 'FormData' in window\r\n                && 'FileReader' in window;\r\n      },\r\n\r\n      submitFiles(){\r\n\r\n        let formData = new FormData();\r\n\r\n        for( var i = 0; i < this.files.length; i++ ){\r\n          let file = this.files[i];\r\n\r\n          formData.append('files[' + i + ']', file);\r\n        }\r\n\r\n        axios.post( '/file-drag-drop-instant',\r\n          formData,\r\n          {\r\n            headers: {\r\n                'Content-Type': 'multipart/form-data'\r\n            },\r\n            onUploadProgress: function( progressEvent ) {\r\n              this.uploadPercentage = parseInt( Math.round( ( progressEvent.loaded * 100 ) / progressEvent.total ) );\r\n            }.bind(this)\r\n          }\r\n        ).then(function(){\r\n          console.log('SUCCESS!!');\r\n        })\r\n        .catch(function(){\r\n          console.log('FAILURE!!');\r\n        });\r\n      },\r\n\r\n      getImagePreviews(){\r\n\r\n        for( let i = 0; i < this.files.length; i++ ){\r\n\r\n          if ( /\\.(jpe?g|png|gif)$/i.test( this.files[i].name ) ) {\r\n\r\n            let reader = new FileReader();\r\n\r\n            reader.addEventListener(\"load\", function(){\r\n              this.$refs['preview'+parseInt( i )][0].src = reader.result;\r\n            }.bind(this), false);\r\n\r\n            reader.readAsDataURL( this.files[i] );\r\n          }else{\r\n\r\n            this.$nextTick(function(){\r\n              this.$refs['preview'+parseInt( i )][0].src = '/images/file.png';\r\n            });\r\n          }\r\n        }\r\n      },\r\n    }\r\n  }\r\n</script>"]}]}