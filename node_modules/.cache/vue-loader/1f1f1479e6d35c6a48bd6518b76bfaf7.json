{"remainingRequest":"C:\\Users\\prati\\AppData\\Roaming\\npm\\node_modules\\@vue\\cli-service-global\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\prati\\Downloads\\Flyer\\src\\components\\UploadSection.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\prati\\Downloads\\Flyer\\src\\components\\UploadSection.vue","mtime":1624288365873},{"path":"C:\\Users\\prati\\AppData\\Roaming\\npm\\node_modules\\@vue\\cli-service-global\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\prati\\AppData\\Roaming\\npm\\node_modules\\@vue\\cli-service-global\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\prati\\AppData\\Roaming\\npm\\node_modules\\@vue\\cli-service-global\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCglpbXBvcnQgVnVlIGZyb20gJ3Z1ZScKCWltcG9ydCBheGlvcyBmcm9tICdheGlvcycKCglWdWUudXNlKHsKCQlpbnN0YWxsIChWdWUpIHsKCQkJVnVlLnByb3RvdHlwZS4kYXBpID0gYXhpb3MuY3JlYXRlKHsKCQkJCWJhc2VVUkw6ICdodHRwOi8vbG9jYWxob3N0OjgwODAvYXBpLycKCQkJfSkKCQl9Cgl9KQogIGV4cG9ydCBkZWZhdWx0IHsKICAgIGRhdGEoKXsKICAgICAgcmV0dXJuIHsKICAgICAgICBkcmFnQW5kRHJvcENhcGFibGU6IGZhbHNlLAogICAgICAgIGZpbGVzOiBbXSwKICAgICAgICB1cGxvYWRQZXJjZW50YWdlOiAwCiAgICAgIH0KICAgIH0sCgogICAgY29tcHV0ZWQ6IHsKICAgICAgY29tcHV0ZWRMZWZ0OiBmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuIHRoaXMubGVmdFdyYXBwZXI7CiAgICAgIH0sCiAgICAgIGNvbXB1dGVkV2lkdGg6IGZ1bmN0aW9uKCkgewogICAgICAgIHJldHVybiB0aGlzLndpZHRoV3JhcHBlcgogICAgICB9CiAgICB9LAoKICAgIHdhdGNoOiB7CiAgICAgIC8vIFRoaXMgd291bGQgYmUgY2FsbGVkIGFueXRpbWUgdGhlIHZhbHVlIG9mIHRpdGxlIGNoYW5nZXMKICAgICAgbGVmdFdyYXBwZXIobmV3VmFsdWUpIHsKICAgICAgICB0aGlzLmxlZnRXcmFwcGVyID0gbmV3VmFsdWUKICAgICAgfQogICAgfSwKCiAgICBwcm9wczogWyd3aWR0aFdyYXBwZXInLCAnbGVmdFdyYXBwZXInXSwKCiAgICBtb3VudGVkKCl7CgogICAgICB0aGlzLmRyYWdBbmREcm9wQ2FwYWJsZSA9IHRoaXMuZGV0ZXJtaW5lRHJhZ0FuZERyb3BDYXBhYmxlKCk7CgogICAgICBpZiggdGhpcy5kcmFnQW5kRHJvcENhcGFibGUgKXsKCiAgICAgICAgWydkcmFnJywgJ2RyYWdzdGFydCcsICdkcmFnZW5kJywgJ2RyYWdvdmVyJywgJ2RyYWdlbnRlcicsICdkcmFnbGVhdmUnLCAnZHJvcCddLmZvckVhY2goIGZ1bmN0aW9uKCBldnQgKSB7CgogICAgICAgICAgdGhpcy4kcmVmcy5maWxlZm9ybS5hZGRFdmVudExpc3RlbmVyKGV2dCwgZnVuY3Rpb24oZSl7CiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTsKICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTsKICAgICAgICAgIH0uYmluZCh0aGlzKSwgZmFsc2UpOwogICAgICAgIH0uYmluZCh0aGlzKSk7CgogICAgICAgIHRoaXMuJHJlZnMuZmlsZWZvcm0uYWRkRXZlbnRMaXN0ZW5lcignZHJvcCcsIGZ1bmN0aW9uKGUpewogICAgICAgICAgZm9yKCBsZXQgaSA9IDA7IGkgPCBlLmRhdGFUcmFuc2Zlci5maWxlcy5sZW5ndGg7IGkrKyApewogICAgICAgICAgICB0aGlzLmZpbGVzLnB1c2goIGUuZGF0YVRyYW5zZmVyLmZpbGVzW2ldICk7CiAgICAgICAgICB9CgogICAgICAgICAgdGhpcy5vbkNsaWNrQnV0dG9uKCk7CiAgICAgICAgfS5iaW5kKHRoaXMpKTsKICAgICAgfQogICAgfSwKCiAgICBtZXRob2RzOiB7CgogICAgICBwcmV2aWV3RmlsZXMoZXZlbnQpIHsKICAgICAgICBmb3IoIGxldCBpID0gMDsgaSA8IGV2ZW50LnRhcmdldC5maWxlcy5sZW5ndGg7IGkrKyApewogICAgICAgICAgdGhpcy5maWxlcy5wdXNoKCBldmVudC50YXJnZXQuZmlsZXNbaV0gKTsKICAgICAgICB9CgogICAgICAgIHRoaXMub25DbGlja0J1dHRvbigpOwogICAgICB9LAoKICAgICAgb25DbGlja0J1dHRvbiAoKSB7CiAgICAgICAgdGhpcy4kZW1pdCgncHJldmlld1RyaWdnZXInLCB0aGlzLmZpbGVzKQogICAgICB9LAoKICAgICAgZGV0ZXJtaW5lRHJhZ0FuZERyb3BDYXBhYmxlKCl7CgogICAgICAgIHZhciBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKCiAgICAgICAgcmV0dXJuICggKCAnZHJhZ2dhYmxlJyBpbiBkaXYgKQogICAgICAgICAgICAgICAgfHwgKCAnb25kcmFnc3RhcnQnIGluIGRpdiAmJiAnb25kcm9wJyBpbiBkaXYgKSApCiAgICAgICAgICAgICAgICAmJiAnRm9ybURhdGEnIGluIHdpbmRvdwogICAgICAgICAgICAgICAgJiYgJ0ZpbGVSZWFkZXInIGluIHdpbmRvdzsKICAgICAgfSwKCiAgICAgIHN1Ym1pdEZpbGVzKCl7CgogICAgICAgIGxldCBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpOwoKICAgICAgICBmb3IoIHZhciBpID0gMDsgaSA8IHRoaXMuZmlsZXMubGVuZ3RoOyBpKysgKXsKICAgICAgICAgIGxldCBmaWxlID0gdGhpcy5maWxlc1tpXTsKCiAgICAgICAgICBmb3JtRGF0YS5hcHBlbmQoJ2ZpbGVzWycgKyBpICsgJ10nLCBmaWxlKTsKICAgICAgICB9CgogICAgICAgIGF4aW9zLnBvc3QoICcvZmlsZS1kcmFnLWRyb3AtaW5zdGFudCcsCiAgICAgICAgICBmb3JtRGF0YSwKICAgICAgICAgIHsKICAgICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdtdWx0aXBhcnQvZm9ybS1kYXRhJwogICAgICAgICAgICB9LAogICAgICAgICAgICBvblVwbG9hZFByb2dyZXNzOiBmdW5jdGlvbiggcHJvZ3Jlc3NFdmVudCApIHsKICAgICAgICAgICAgICB0aGlzLnVwbG9hZFBlcmNlbnRhZ2UgPSBwYXJzZUludCggTWF0aC5yb3VuZCggKCBwcm9ncmVzc0V2ZW50LmxvYWRlZCAqIDEwMCApIC8gcHJvZ3Jlc3NFdmVudC50b3RhbCApICk7CiAgICAgICAgICAgIH0uYmluZCh0aGlzKQogICAgICAgICAgfQogICAgICAgICkudGhlbihmdW5jdGlvbigpewogICAgICAgICAgY29uc29sZS5sb2coJ1NVQ0NFU1MhIScpOwogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKGZ1bmN0aW9uKCl7CiAgICAgICAgICBjb25zb2xlLmxvZygnRkFJTFVSRSEhJyk7CiAgICAgICAgfSk7CiAgICAgIH0sCgogICAgICBnZXRJbWFnZVByZXZpZXdzKCl7CgogICAgICAgIGZvciggbGV0IGkgPSAwOyBpIDwgdGhpcy5maWxlcy5sZW5ndGg7IGkrKyApewoKICAgICAgICAgIGlmICggL1wuKGpwZT9nfHBuZ3xnaWYpJC9pLnRlc3QoIHRoaXMuZmlsZXNbaV0ubmFtZSApICkgewoKICAgICAgICAgICAgbGV0IHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7CgogICAgICAgICAgICByZWFkZXIuYWRkRXZlbnRMaXN0ZW5lcigibG9hZCIsIGZ1bmN0aW9uKCl7CiAgICAgICAgICAgICAgdGhpcy4kcmVmc1sncHJldmlldycrcGFyc2VJbnQoIGkgKV1bMF0uc3JjID0gcmVhZGVyLnJlc3VsdDsKICAgICAgICAgICAgfS5iaW5kKHRoaXMpLCBmYWxzZSk7CgogICAgICAgICAgICByZWFkZXIucmVhZEFzRGF0YVVSTCggdGhpcy5maWxlc1tpXSApOwogICAgICAgICAgfWVsc2V7CgogICAgICAgICAgICB0aGlzLiRuZXh0VGljayhmdW5jdGlvbigpewogICAgICAgICAgICAgIHRoaXMuJHJlZnNbJ3ByZXZpZXcnK3BhcnNlSW50KCBpICldWzBdLnNyYyA9ICcvaW1hZ2VzL2ZpbGUucG5nJzsKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LAogICAgfQogIH0K"},{"version":3,"sources":["UploadSection.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4GA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"UploadSection.vue","sourceRoot":"src/components","sourcesContent":["<style>\r\n.inp_label{\r\n  width: 300px;\r\n  margin: auto;\r\n  margin-top: 100px;\r\n}\r\n.inp_holder{\r\n  width: 200px;\r\n  margin: auto;\r\n}\r\n.dropzone {\r\n    padding: 0.5rem;\r\n}\r\n.btn_upload{\r\n  background-color: #3865B0;\r\n  width: 100px;\r\n  height: 35px;\r\n  display: inline-grid;\r\n}\r\n.dropzone-wrapper {\r\n    position: absolute;\r\n    width: 837px;\r\n    height: 393px;\r\n    left: 277px;\r\n    top: 147px;\r\n    background: #FFFFFF;\r\n}\r\n.btn_upload::-webkit-file-upload-button {\r\n  background-color: #3865B0;\r\n  visibility: hidden;\r\n}\r\n.btn_upload::before {\r\n  border-color: transparent;\r\n  background-color: transparent;\r\n  content: 'Select file';  padding: 0;\r\n  outline: none;\r\n  white-space: nowrap;\r\n  cursor: pointer;\r\n  text-shadow: 0.5px 0.5px #000;\r\n  font-weight: 700;\r\n  font-size: 10pt;\r\n  text-align: center;\r\n  color: white;\r\n}\r\n.btn_upload:hover::before {\r\n  background-color: #3865B0;\r\n  border: none;\r\n  border-color: transparent;\r\n}\r\n.btn_upload:active::before {\r\n  background-color: #3865B0;\r\n}\r\n\r\n.fileForm{\r\n    position: absolute;\r\n    width: 80%;\r\n    height: 60%;\r\n    top: 24%;\r\n    background: #FFFFFF;\r\n}\r\n\r\ndiv.file-listing{\r\n  width: 400px;\r\n  margin: auto;\r\n  padding: 10px;\r\n  border-bottom: 1px solid #ddd;\r\n}\r\n\r\ndiv.file-listing img{\r\n  height: 100px;\r\n}\r\n\r\na.submit-button{\r\n  display: block;\r\n  margin: auto;\r\n  text-align: center;\r\n  width: 200px;\r\n  padding: 10px;\r\n  text-transform: uppercase;\r\n  background-color: #CCC;\r\n  color: white;\r\n  font-weight: bold;\r\n  margin-top: 20px;\r\n}\r\n</style>\r\n\r\n<template>\r\n  <div id=\"file-drag-drop\" v-bind:style=\"{ left: computedWidth }\">\r\n    <form ref=\"fileform\" class=\"fileForm\">\r\n      <div class=\"inp_label\">\r\n            <label class=\"dropzone-label grid place-items-center w-full h-full pt-10 pb-12 cursor-pointer\" for=\"dropzone-file\">\r\n              <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"40\" height=\"40\" fill=\"currentColor\" class=\"pointer-events-none text-current dropzone-label-icon bi bi-upload\" viewBox=\"0 0 16 16\">\r\n                <path d=\"M.5 9.9a.5.5 0 0 1 .5.5v2.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 1 0v2.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2.5a.5.5 0 0 1 .5-.5z\" />\r\n                <path d=\"M7.646 1.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1-.708.708L8.5 2.707V11.5a.5.5 0 0 1-1 0V2.707L5.354 4.854a.5.5 0 1 1-.708-.708l3-3z\" />\r\n              </svg>\r\n              <div class=\"dropzone-label-text\">\r\n                <p class=\"m-3 text-center\">\r\n                    Drag and drop files to upload\r\n                </p>\r\n              </div>\r\n              <input type=\"file\" class=\"btn btn_upload\" @change=\"previewFiles\"/>\r\n            </label>\r\n          </div>\r\n    </form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n\timport Vue from 'vue'\r\n\timport axios from 'axios'\r\n\r\n\tVue.use({\r\n\t\tinstall (Vue) {\r\n\t\t\tVue.prototype.$api = axios.create({\r\n\t\t\t\tbaseURL: 'http://localhost:8080/api/'\r\n\t\t\t})\r\n\t\t}\r\n\t})\r\n  export default {\r\n    data(){\r\n      return {\r\n        dragAndDropCapable: false,\r\n        files: [],\r\n        uploadPercentage: 0\r\n      }\r\n    },\r\n\r\n    computed: {\r\n      computedLeft: function () {\r\n        return this.leftWrapper;\r\n      },\r\n      computedWidth: function() {\r\n        return this.widthWrapper\r\n      }\r\n    },\r\n\r\n    watch: {\r\n      // This would be called anytime the value of title changes\r\n      leftWrapper(newValue) {\r\n        this.leftWrapper = newValue\r\n      }\r\n    },\r\n\r\n    props: ['widthWrapper', 'leftWrapper'],\r\n\r\n    mounted(){\r\n\r\n      this.dragAndDropCapable = this.determineDragAndDropCapable();\r\n\r\n      if( this.dragAndDropCapable ){\r\n\r\n        ['drag', 'dragstart', 'dragend', 'dragover', 'dragenter', 'dragleave', 'drop'].forEach( function( evt ) {\r\n\r\n          this.$refs.fileform.addEventListener(evt, function(e){\r\n            e.preventDefault();\r\n            e.stopPropagation();\r\n          }.bind(this), false);\r\n        }.bind(this));\r\n\r\n        this.$refs.fileform.addEventListener('drop', function(e){\r\n          for( let i = 0; i < e.dataTransfer.files.length; i++ ){\r\n            this.files.push( e.dataTransfer.files[i] );\r\n          }\r\n\r\n          this.onClickButton();\r\n        }.bind(this));\r\n      }\r\n    },\r\n\r\n    methods: {\r\n\r\n      previewFiles(event) {\r\n        for( let i = 0; i < event.target.files.length; i++ ){\r\n          this.files.push( event.target.files[i] );\r\n        }\r\n\r\n        this.onClickButton();\r\n      },\r\n\r\n      onClickButton () {\r\n        this.$emit('previewTrigger', this.files)\r\n      },\r\n\r\n      determineDragAndDropCapable(){\r\n\r\n        var div = document.createElement('div');\r\n\r\n        return ( ( 'draggable' in div )\r\n                || ( 'ondragstart' in div && 'ondrop' in div ) )\r\n                && 'FormData' in window\r\n                && 'FileReader' in window;\r\n      },\r\n\r\n      submitFiles(){\r\n\r\n        let formData = new FormData();\r\n\r\n        for( var i = 0; i < this.files.length; i++ ){\r\n          let file = this.files[i];\r\n\r\n          formData.append('files[' + i + ']', file);\r\n        }\r\n\r\n        axios.post( '/file-drag-drop-instant',\r\n          formData,\r\n          {\r\n            headers: {\r\n                'Content-Type': 'multipart/form-data'\r\n            },\r\n            onUploadProgress: function( progressEvent ) {\r\n              this.uploadPercentage = parseInt( Math.round( ( progressEvent.loaded * 100 ) / progressEvent.total ) );\r\n            }.bind(this)\r\n          }\r\n        ).then(function(){\r\n          console.log('SUCCESS!!');\r\n        })\r\n        .catch(function(){\r\n          console.log('FAILURE!!');\r\n        });\r\n      },\r\n\r\n      getImagePreviews(){\r\n\r\n        for( let i = 0; i < this.files.length; i++ ){\r\n\r\n          if ( /\\.(jpe?g|png|gif)$/i.test( this.files[i].name ) ) {\r\n\r\n            let reader = new FileReader();\r\n\r\n            reader.addEventListener(\"load\", function(){\r\n              this.$refs['preview'+parseInt( i )][0].src = reader.result;\r\n            }.bind(this), false);\r\n\r\n            reader.readAsDataURL( this.files[i] );\r\n          }else{\r\n\r\n            this.$nextTick(function(){\r\n              this.$refs['preview'+parseInt( i )][0].src = '/images/file.png';\r\n            });\r\n          }\r\n        }\r\n      },\r\n    }\r\n  }\r\n</script>"]}]}